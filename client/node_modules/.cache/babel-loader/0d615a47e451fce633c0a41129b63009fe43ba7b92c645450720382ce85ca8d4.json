{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Documents/2023/CODING DOJO/MERN/Product_Manager/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{useNavigate,useParams}from\"react-router-dom\";import ProductForm from'../components/ProductForm';import DeleteButton from'../components/DeleteButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Update=function Update(props){var _useParams=useParams(),id=_useParams.id;//this process is identical to the one we used with our Details.js component\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];//this process is identical to the one we\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];var navigate=useNavigate();// retrieve the current values for this person so we can fill\n// in the form with what is in the db currently\nuseEffect(function(){axios.get('http://localhost:8001/api/product/'+id).then(function(res){setProduct(res.data);setLoaded(true);}).catch(function(err){return console.log(err);});},[]);var updateProduct=function updateProduct(productParam){axios.put('http://localhost:8001/api/product/'+id,productParam).then(function(res){console.log(res);navigate(\"/home\");}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update a Product\"}),loaded&&/*#__PURE__*/_jsx(ProductForm,{onSubmitProp:updateProduct,initialTitle:product.title,initialPrice:product.price,initialDescription:product.description}),/*#__PURE__*/_jsx(DeleteButton,{productId:product._id,successCallback:function successCallback(){return navigate(\"/home\");}})]});};export default Update;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","useParams","ProductForm","DeleteButton","jsx","_jsx","jsxs","_jsxs","Update","props","_useParams","id","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","loaded","setLoaded","navigate","get","then","res","data","catch","err","console","log","updateProduct","productParam","put","children","onSubmitProp","initialTitle","title","initialPrice","price","initialDescription","description","productId","_id","successCallback"],"sources":["C:/Users/User/Documents/2023/CODING DOJO/MERN/Product_Manager/client/src/components/Update.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport ProductForm from '../components/ProductForm';\r\nimport DeleteButton from '../components/DeleteButton';\r\nconst Update = (props) => {\r\n    const { id } = useParams(); //this process is identical to the one we used with our Details.js component\r\n    const [product, setProduct] = useState({}); //this process is identical to the one we\r\n    \r\n    const [loaded, setLoaded] = useState(false);\r\n    const navigate = useNavigate();\r\n    // retrieve the current values for this person so we can fill\r\n    // in the form with what is in the db currently\r\n    useEffect(() => {\r\n        axios.get('http://localhost:8001/api/product/' + id)\r\n            .then(res => { \r\n                setProduct(res.data)\r\n                setLoaded(true);\r\n             })\r\n            .catch(err => console.log(err))\r\n    }, [])\r\n    const updateProduct = productParam => {\r\n        \r\n        axios.put('http://localhost:8001/api/product/' + id,productParam)\r\n            .then(res => {\r\n                console.log(res);\r\n                navigate(\"/home\"); \r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Update a Product</h1>\r\n            {\r\n            loaded && <ProductForm onSubmitProp={updateProduct} initialTitle={product.title} initialPrice={product.price}\r\n            initialDescription={product.description}\r\n            />\r\n            }\r\n            <DeleteButton productId={product._id} successCallback={() => navigate(\"/home\")} />\r\n        </div>\r\n    )\r\n}\r\nexport default Update;"],"mappings":"0JAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACtD,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIC,KAAK,CAAK,CACtB,IAAAC,UAAA,CAAeT,SAAS,CAAC,CAAC,CAAlBU,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAAkB;AAC5B,IAAAC,SAAA,CAA8Bd,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAAkB;AAE5C,IAAAI,UAAA,CAA4BnB,QAAQ,CAAC,KAAK,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAApCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,GAAM,CAAAG,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAC9B;AACA;AACAH,SAAS,CAAC,UAAM,CACZE,KAAK,CAACuB,GAAG,CAAC,oCAAoC,CAAGX,EAAE,CAAC,CAC/CY,IAAI,CAAC,SAAAC,GAAG,CAAI,CACTR,UAAU,CAACQ,GAAG,CAACC,IAAI,CAAC,CACpBL,SAAS,CAAC,IAAI,CAAC,CAClB,CAAC,CAAC,CACFM,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CACN,GAAM,CAAAG,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAGC,YAAY,CAAI,CAElChC,KAAK,CAACiC,GAAG,CAAC,oCAAoC,CAAGrB,EAAE,CAACoB,YAAY,CAAC,CAC5DR,IAAI,CAAC,SAAAC,GAAG,CAAI,CACTI,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC,CAChBH,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,CAAC,CACDK,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACvC,CAAC,CACD,mBACIpB,KAAA,QAAA0B,QAAA,eACI5B,IAAA,OAAA4B,QAAA,CAAI,kBAAgB,CAAI,CAAC,CAEzBd,MAAM,eAAId,IAAA,CAACH,WAAW,EAACgC,YAAY,CAAEJ,aAAc,CAACK,YAAY,CAAEpB,OAAO,CAACqB,KAAM,CAACC,YAAY,CAAEtB,OAAO,CAACuB,KAAM,CAC7GC,kBAAkB,CAAExB,OAAO,CAACyB,WAAY,CACvC,CAAC,cAEFnC,IAAA,CAACF,YAAY,EAACsC,SAAS,CAAE1B,OAAO,CAAC2B,GAAI,CAACC,eAAe,CAAE,SAAAA,gBAAA,QAAM,CAAAtB,QAAQ,CAAC,OAAO,CAAC,EAAC,CAAE,CAAC,EACjF,CAAC,CAEd,CAAC,CACD,cAAe,CAAAb,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}